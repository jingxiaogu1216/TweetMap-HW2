{"version":3,"file":"workerpool.map","sources":["./dist/workerpool.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","pool","options","Pool","worker","methods","environment","blob","Blob","type","url","window","URL","createObjectURL","importScripts","add","Promise","script","isNumber","maxWorkers","isInteger","TypeError","numCPUs","cpus","length","Math","max","workers","tasks","value","round","WorkerHandler","prototype","exec","method","params","Array","isArray","resolver","defer","push","_next","promise","String","proxy","then","forEach","slice","arguments","_getWorker","me","task","shift","pending","catch","terminated","_removeWorker","i","ii","busy","terminate","index","indexOf","splice","clear","force","isPromise","self","postMessage","addEventListener","on","event","callback","message","data","send","process","Error","bind","run","fn","args","f","eval","apply","Object","keys","request","result","error","err","toString","register","name","hasOwnProperty","handler","parent","SyntaxError","_onSuccess","_onFail","resolved","rejected","_process","onSuccess","onFail","resolve","reject","s","_then","_resolve","_reject","cancel","CancellationError","timeout","delay","timer","setTimeout","TimeoutError","always","clearTimeout","res","stack","all","promises","remaining","results","constructor","getDefaultWorker","__dirname","onError","processing","Worker","fork","response","terminating","lastId","kill"],"mappings":"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"}